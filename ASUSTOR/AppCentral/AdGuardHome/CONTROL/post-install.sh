#!/bin/sh

##########################################################################################################################################################
# Déclaration de la variable de test #
######################################
CONTENEUR=AdGuardHome
IMAGE=adguard/adguardhome
INSTALL=3000:3000
WEBUI=3272:80
HTTPS=3443:443

##########################################################################################################################################################
# Fermeture du Conteneur #
##########################
docker container rm -f  $CONTENEUR

##########################################################################################################################################################
# Création du Conteneur #
#########################
docker run -d \
--name=$CONTENEUR \
--hostname $CONTENEUR \
--net=bridge \
--restart unless-stopped \
--env TZ="Europe/Paris" \
--volume /volume1/Docker/$CONTENEUR/conf:/opt/adguardhome/conf \
--volume /volume1/Docker/$CONTENEUR/work:/opt/adguardhome/work \
--publish $INSTALL \
--publish $WEBUI \
--publish $HTTPS \
--label cacher="oui" \
$IMAGE:latest

##########################################################################################################################################################
# Lancement du Conteneur #
##########################
docker start $CONTENEUR

##########################################################################################################################################################
# Patienter le démarrage du Conteneur #
#######################################
sleep 3

##########################################################################################################################################################
# Code retour de Fermeture #
############################
exit 0
