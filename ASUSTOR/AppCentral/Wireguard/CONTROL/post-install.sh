#!/bin/sh

##########################################################################################################################################################
# Déclaration de la variable de test #
######################################
CONTENEUR=wireguard
IMAGE=linuxserver/wireguard
RESTART=unless-stopped
PORT=51820:51820

##########################################################################################################################################################
# Fermeture du Conteneur #
##########################
docker container rm -f  $CONTENEUR

##########################################################################################################################################################
# Lancement du Conteneur #
##########################
docker create -i -t \
--name=$CONTENEUR \
--restart $RESTART \
--net=host \
--cap-add="NET_ADMIN" \
--hostname $CONTENEUR \
--volume /volume1/Docker/$CONTENEUR:/config \
--publish $PORT \
--label cacher="oui" \
$IMAGE:latest

# --cap-add="SYS_MODULE" \
#--env \

##########################################################################################################################################################
# Démarrage du Conteneur #
##########################
docker start $CONTENEUR

##########################################################################################################################################################
# Code Retour en Fermeture #
############################
exit 0
